# 2026-01-03 - iOS UI Redesign Session

## Work Completed

### Onboarding Fixes
- Unified icon colors to use single `highlight` color (was red/green/purple/blue)
- Fixed spacing between page indicator pills and buttons (64pt)
- Updated download size to actual model size (~1.8GB)
- Removed "(Optional)" from ML model - it's required for research app
- Removed "Download Later" option

### Design Tokens Cleanup
- Added spacing scale: `xxxl: 48`, `huge: 64`
- Added dimension tokens: `heroIconSize`, `contentMaxWidth`, `actionButtonSize`, `textEditorHeightSmall`, `textEditorHeightCompact`, `chartPointSize`
- Replaced all hardcoded sizes across views with tokens
- Fixed off-grid values (6→8, 17→16, 20→24)

### UI Style Overhaul - Boxes to Lines
- Removed card/bubble styling throughout app
- Replaced backgrounds + cornerRadius with Divider separators
- DataView: Clean date headers (no black background), entries separated by lines
- HelpView: Sections use dividers instead of cards
- EditEntryView: Replaced Form with ScrollView, divider separators
- LogView: Toolbar uses top divider instead of rounded background

### Data Model Alignment
- Updated EditEntryView to new model: freetext + activity score 0-3
- Removed old fields: Pain Level 0-10, Symptoms
- Removed Scores section (heuristic, ML, active)
- DataView entries now show activity score labels (Remission/Mild/Moderate/Severe)
- Added swipe actions for Edit/Delete on entries

### Color Consistency
- Fixed stray `.blue` colors in HelpView and DataView chart
- Chart now uses `.primary` color
- All accent colors use `DesignTokens.Colors.highlight`

## Session 2 - Bugs & Polish

### Swipe Actions Fix (wolfsbit-01-8iy)
- Root cause: `.swipeActions` only works inside `List`, was using `ScrollView + ForEach`
- Restructured DataView to use `List` with `.listStyle(.plain)`
- Applied `.listRowInsets(EdgeInsets())` and `.listRowBackground()` per row
- Native swipe button shape is rounded pill - no API to customize (filed P3 feature)

### Corner Radius Fix (wolfsbit-01-goq)
- iOS native UI uses continuous corners, not circular
- Replaced all `.cornerRadius(X)` with `.clipShape(RoundedRectangle(..., style: .continuous))`
- 13 replacements across 5 files

### Typography Unification (wolfsbit-01-gnb)
- Expanded Typography tokens: largeTitle, title, title2, title3, questionText, headline, sectionHeader, body, secondary, caption, caption2
- Replaced 40 hardcoded `.font()` calls across 5 views
- Fixed LogView using `.title3` instead of `questionText` (.title2.semibold)

### Reduced UI Polish
- Removed rounded section backgrounds from Settings, EditEntry, DebugControls
- Changed `Form` to `List` with `.listStyle(.plain)`
- Removed TextEditor backgrounds and clipShapes in EditEntryView

### Typography Simplification
- Reduced from 12 tokens to 5 semantic tokens (like HTML):
  - `title` (.largeTitle) - h1 page titles
  - `heading` (.title2) - h2 section headings
  - `subheading` (.headline) - h3 subsections
  - `body` (.body) - paragraph content
  - `caption` (.caption) - metadata
- Removed unused: title3, questionText, sectionHeader, secondary, caption2, largeTitle

### Font Weight Tokens
- Added `DesignTokens.Weight` enum:
  - `emphasis` (.semibold) - headings, buttons
  - `strong` (.bold) - page titles, section headers
- Fixed inconsistency: Onboarding headings were `.bold`, LogView was `.semibold`
- Now all headings use `Weight.emphasis` consistently

## Open Items
- P1: GGUF model integration, CoreData migration, Full-screen editor
- P2: TelemetryDeck, ML score discrimination, Localization
- P3: Custom rectangular swipe buttons (if design requires)
