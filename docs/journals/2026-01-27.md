# Journal: 2026-01-27

## Session Summary

Renamed the app from Wolfsbit to Flareline across the entire codebase.

## Work Completed

### App Rename (Wolfsbit → Flareline)
- Updated `Localizable.xcstrings` with new app name in all user-facing strings
- Updated `README.md` and `AGENTS.md` with new name and folder paths
- Updated legal docs (privacy policy, terms of service)
- Renamed Core Data model: `wolfsbit.xcdatamodeld` → `flarelines.xcdatamodeld`
- Updated all Xcode project references
- Fixed `Persistence.swift` to reference correct model name

### Bug Fix: App Crash on Launch
**Root cause:** The initial rename commit (`9917f57`) changed `Persistence.swift` to look for `"flarelines"` model, but the Core Data model file was still named `wolfsbit.xcdatamodeld`. This caused Core Data initialization to fail, triggering a `__stack_chk_fail` crash in SwiftUI's observation tracking.

**Fix:** Renamed the Core Data model files to match the code references.

**Lesson:** When renaming iOS apps, Core Data model names must be updated consistently:
1. Folder: `*.xcdatamodeld`
2. Inner folder: `*.xcdatamodel`
3. `.xccurrentversion` reference
4. Xcode project file references
5. `NSPersistentContainer(name:)` in code
6. `Bundle.main.url(forResource:)` calls

### Additional Fix: @Observable Pattern
Removed stored `@Observable` singleton references from views (`ModelDownloader.shared`, `LanguagePreference.shared`) - while not the root cause, this was a potential source of SwiftUI observation issues.

## Beads Created
- wolfsbit-01-h5h: Question about "Rate your activity" wording
- wolfsbit-01-swg: Graph view timeframe switching bug
- wolfsbit-01-v0l: PDF export feature
- wolfsbit-01-zdf: Graph data point interaction feature
- wolfsbit-01-gbr: SLM context data (time, weather) feature
- wolfsbit-01-9h9: Graph icon vs database icon question

## Branch Status
- Branch: `rename-to-flareline`
- PR #14 ready for merge
- All changes pushed to remote

## Next Steps
- Merge PR #14
- Submit build for TestFlight review
- GitHub repo already renamed to `ff6347/flarelines`
